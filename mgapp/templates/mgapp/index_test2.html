{% load static %}
<!-- /*
* Template Name: Tour
* Template Author: Untree.co
* Tempalte URI: https://untree.co/
* License: https://creativecommons.org/licenses/by/3.0/
*/ -->
<!doctype html>
<html lang="en">
<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <meta name="author" content="Untree.co">
   <link rel="shortcut icon" href="favicon.png">

   <meta name="description" content="" />
   <meta name="keywords" content="bootstrap, bootstrap4" />

   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Source+Serif+Pro:wght@400;700&display=swap" rel="stylesheet">

   <link rel="stylesheet" href="{% static 'mgapp/css/bootstrap.min.css'%}">
   <link rel="stylesheet" href="{% static 'mgapp/css/owl.carousel.min.css'%}">
   <link rel="stylesheet" href="{% static 'mgapp/css/owl.theme.default.min.css'%}">
   <link rel="stylesheet" href="{% static 'mgapp/css/jquery.fancybox.min.css'%}">
   <link rel="stylesheet" href="{% static 'mgapp/fonts/icomoon/style.css'%}">
   <link rel="stylesheet" href="{% static 'mgapp/fonts/flaticon/font/flaticon.css'%}">
   <link rel="stylesheet" href="{% static 'mgapp/css/daterangepicker.css'%}">
   <link rel="stylesheet" href="{% static 'mgapp/css/aos.css'%}">
   <link rel="stylesheet" href="{% static 'mgapp/css/style.css'%}">


   <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/album/">

    
   <script src="{% static 'mgapp/css/assets/js/color-modes.js'%}"></script>
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/n pm/@docsearch/css@3">
   <link href="{% static 'mgapp/css/assets/dist/css/bootstrap.min.css'%}" rel="stylesheet">
   <style>
@import url("https://fonts.googleapis.com/css2?family=Roboto&display=swap");
tr:hover {
   background-color:skyblue;
}.nav-scroller {
  position: relative;
  z-index: 2;
  height: 2.75rem;
  overflow-y: hidden;
}

.nav-scroller .nav {
  display: flex;
  flex-wrap: nowrap;
  padding-bottom: 1rem;
  margin-top: -1px;
  overflow-x: auto;
  text-align: center;
  white-space: nowrap;
  -webkit-overflow-scrolling: touch;
}

.btn-bd-primary {
  --bd-violet-bg: #712cf9;
  --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

  --bs-btn-font-weight: 600;
  --bs-btn-color: var(--bs-white);
  --bs-btn-bg: var(--bd-violet-bg);
  --bs-btn-border-color: var(--bd-violet-bg);
  --bs-btn-hover-color: var(--bs-white);
  --bs-btn-hover-bg: #6528e0;
  --bs-btn-hover-border-color: #6528e0;
  --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
  --bs-btn-active-color: var(--bs-btn-hover-color);
  --bs-btn-active-bg: #5a23c8;
  --bs-btn-active-border-color: #5a23c8;
}
.btn-bd-primary2 {
  --bd-violet-bg: #ffffff00;
  --bd-violet-rgb: 112.520718, 44.062154, 249.437846;
  --bs-btn-font-weight: 600;
  --bs-btn-color: var(--bs-white);
  --bs-btn-bg: var(--bd-violet-bg);
  --bs-btn-border-color: var(--bd-violet-bg);
  --bs-btn-hover-color: var(--bs-white);
  --bs-btn-hover-bg: #6528e0;
  --bs-btn-hover-border-color: #6528e0;
  --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
  --bs-btn-active-color: var(--bs-btn-hover-color);
  --bs-btn-active-bg: #5a23c8;
  --bs-btn-active-border-color: #5a23c8;
}
.bd-mode-toggle {
  z-index: 1500;
}
.mb-2 {
  margin-bottom: 5.5rem!important;
}
#popupContainer {
   display: none;
   position: fixed;
   bottom: 10px;
   right: 10px;
   width: 500px;
   height: 500px;
   background-color: transparent;
   z-index: 9999; /* 팝업을 항상 위에 띄우기 위해 z-index 사용 */
  } @media (min-width:350px) and (max-width:660px) {
   #popupContainer{
    width: 300px;
    height: 400px;
   }
}

#popupContent {
  right: 10px;
  width: 500px;
  height: 435px;

}
 @media (min-width:350px) and (max-width:660px) {
 #popupContent{
  width: 300px;
  height: 300px;
 }
}

#closePopup {
   background-color: #248A52;
   color: white;
   padding: 5px 15PX;
   border: none;
   cursor: pointer;
   float: right;
  }
@font-face {
  font-family: 'IAMAPLAYER';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2307-2@1.0/IAMAPLAYER.woff2') format('woff2');
  font-weight: normal;
  font-style: normal;
}
.small_1{
   font-size: 25px;
   font-weight: 700;"

}@media (min-width:350px) and (max-width:660px) {
   .small_1 {font-size:15px ;
   }
}
.dio{
   margin-left: 20px;

}
   </style>
   <title>bigwave</title>
</head>

<body>
   <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
      <symbol id="arrow-up" viewBox="0 0 16 16">
        <path d="M7.646 1.646a.5.5 0 0 1 .708 0l5 5a.5.5 0 0 1-.708.708L8 2.707 2.354 8.354a.5.5 0 0 1-.708-.708l5-5z"/>
      </symbol>
     </svg>
   
   
     <div class="dropdown position-fixed bottom-0 end-0 mb-2 me-3 bd-mode-toggle">
      <button class="btn btn-bd-primary2 py-2 dropdown-toggle d-flex align-items-center"
            id="openPopup"
            type="button"
            aria-expanded="false"
            aria-label="Toggle theme (auto)"
            onclick="">
        <img src="{% static "\mgapp\images\dbdb.png" %}" style="max-width: 50px; max-height: 50px;" alt="챗봇">
        <span class="visually-hidden" id="bd-theme-text">sadas</span>
      </button>
     </div>
     <div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle">
      <button class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center"
            id="bd-theme"
            type="button"
            aria-expanded="false"
            aria-label="Toggle theme (auto)"
            onclick="scrollToTop()">
        <svg class="bi my-1 theme-icon-active" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor">
         <use xlink:href="#arrow-up"></use>
        <span class="visually-hidden" id="bd-theme-text">sadas</span>
      </button>
     </div>
     <div id="popupContainer">
      <button id="closePopup" style="font-size: 20px;">X</button>
      <iframe id="popupContent" src="/mg/chat/" frameborder="0">
        <h2>Popup Title</h2>
      </iframe>
     </div>
   
   
   {% comment %} <div style=" z-index: 1;">
     <div class="sticky_click" style="top: 50px;">ststststst</div> {% endcomment %}
   
     <!-- Navbar -->
     <div class="site-mobile-menu site-navbar-target">
        <div class="site-mobile-menu-header">
           <div class="site-mobile-menu-close">
              <span class="icofont-close js-menu-toggle"></span>
           </div>
        </div>
        <div class="site-mobile-menu-body"></div>
     </div>
   
     <nav class="site-nav" style="z-index: 5;">
      <div class="site-navigation">
        <a href="/" class="logo m-0"><img src="{% static "mainapp/free-css/images/로고색.png" %}" alt="" style="width: 300px; height: 50px;" ></a> 
        <ul class="js-clone-nav d-none d-lg-inline-block text-left site-menu float-right">
           {% if request.session.ses_mem_id == None %}
           <li class="active"><a href="/">서비스 소개</a></li>
           <li class="active"><a href="/mg/test/">선착장예약</a></li>
           <li><a href="/je/service/">교통/관광 서비스</a></li>
           <li><a href="/login2/">로그인</a></li>
           <li><a href="/signup2/">회원가입</a></li>
           {% else %}
           <li class="active"><a href="/">서비스 소개</a></li>
           <li class="active"><a href="/mg/test/">선착장예약</a></li>
           <li><a href="/mg/booking/">예약확인</a></li>
           <li><a href="/je/service/">교통/관광 서비스</a></li>
           <li><a href="/signup/">회원정보</a></li>
           <li><a href="/logout/">로그아웃</a></li>
           {% endif %} 
        </ul>
        <a href="#" class="burger ml-auto float-right site-menu-toggle js-menu-toggle d-inline-block d-lg-none light" data-toggle="collapse" data-target="#main-navbar">
           <span></span>
        </a>
      </div>
     </nav>
   </header>
   <div class="hero" background-color style="background: linear-gradient(to left, #3F72AF, #b4caf2);">
      <div class="container">
         <div class="row align-items-center">
            <div class="col-lg-7">
               <div class="intro-wrap">
                  <h1 class="mb-5" style="font-family: IAMAPLAYER;"><span class="d-block">Marine Taxi</span>Booking service
                     <br><span class="typed-words"></span></h1>
                  <div class="row">
                     <div class="col-12">
                        <form class="form" id="fm" method="GET" action="/mg/test2" onsubmit="return validateForm()">
                           <div class="row mb-3">
                              <div class="col-sm-12 cl-md-6 mb-3 mb-lg-0 col-lg-6">
                                 <select name="start" id="start" class="form-control custom-select" onchange="changeP_nm()">
                                    <option value="" {% if not selected_start %}selected{% endif %}>출발지를 선택하세요</option>
                                    {% for row in marina_list %}
                                    <option value="{{row.mar_nm}}">{{row.mar_nm}}</option>
                                    {% endfor %}
                                 </select>
                              </div>
                              <br>
                              <div class="col-sm-12 col-md-6 mb-3 mb-lg-0 col-lg-6">
                                 <select name="end" id="end" class="form-control custom-select">
                                    <option value="" {% if not selected_end %}selected{% endif %}>도착지를 선택하세요</option>
                                 </select>
                              </div>
                              <br>
                              <div class="col-sm-12 col-md-6 mb-3 mb-lg-0 col-lg-6">
                                 <input type="text" class="form-control" name="daterange">
                              </div>
                              <div class="col-sm-12 col-md-6 mb-3 mb-lg-0 col-lg-6">
                                 <select name="qty" id="qty" class="form-control custom-select">
                                    <option value="">탑승객수</option>
                                    <option value="1">1인</option>
                                    <option value="2">2인</option>
                                    <option value="3">3인</option>
                                    <option value="4">4인</option>
                                    <option value="5">5인</option>
                                 </select>
                              </div>
                              {% comment %} <div class="col-lg-8">
                                 <label class="control control--checkbox mt-3">
                                    <span class="caption">Save this search</span>
                                    <input type="checkbox" checked="checked" />
                                    <div class="control__indicator"></div>
                                 </label>
                              </div> {% endcomment %}
                           </div>
                           <div class="row align-items-center">
                              <div class="col-sm-10 col-md-3 mb-3 mb-lg-1 col-lg-12">
                                 <input type="submit" class="btn btn-primary btn-block" value="검색하기">
                              </div>
                           </div>
                        </form>
                     </div>

                  </div>
               </div>
            </div>
            <div class="col-lg-5">

               <div class="slides">
                  <img src="{% static 'mgapp/images/hero-slider-1.jpg'%}" alt="Image" class="img-fluid active">
                  <img src="{% static 'mgapp/images/hero-slider-2.jpg'%}" alt="Image" class="img-fluid">
                  <img src="{% static 'mgapp/images/hero-slider-3.jpg'%}" alt="Image" class="img-fluid">
                  <img src="{% static 'mgapp/images/hero-slider-4.jpg'%}" alt="Image" class="img-fluid">
                  <img src="{% static 'mgapp/images/hero-slider-5.jpg'%}" alt="Image" class="img-fluid">
               </div>
            </div>
         </div>
      </div>
   </div>
   
   <div class="untree_co-section">
      
      <div class="container">
         <div class="row mb-5 justify-content-center" style="padding-top: 150px;">
            <div class="col-lg-12 text-center">
               <div class="row">
                  <div class="col-12">
                     <form class="form" id="scheduleForm" method="GET" action="/mg/check/">
                        <table  class="rwd-table">
                           <tbody>
                              <tr>
                                 <th class="small_1">선택하기</th>
                                 <th class="small_1" style="text-align: center;">출발지</th>
                                 <th class="small_1" style="text-align: center;">도착지</th>
                              </tr>
                              {% if schedule %}
                              {% for row3 in schedule %}
                              <tr class="KOTRA-fontsize-80">
                                 <td><input type="radio" name="selected_schedule" value="{{ row3.sch_no }}" class="dio" style="width:30px;height:30px;border:1px;"></td>
                                 <td class="small_1"><p2  class="small_1" >{{ row3.sch_marina }}</p2><br><p style="font-size: 18px;">{{ row3.sch_stime }}</p></td>
                                 <td class="small_1"><p2  class="small_1" >{{ row3.sch_arrival }}</p2><br><p style="font-size: 18px;">{{ row3.sch_etime }}</p></td>
                              </tr>
                              {% endfor %}
                              {% else %}
                              <tr>
                                 <td colspan="4" style="height: 50px; width: 100%;">상세 항목을 선택해 주세요</td>
                              </tr>
                              {% endif %}
                              
                              <tr class="KOTRA-fontsize-80" {% if not schedule %}style="display: none;"{% endif %}>
                                 <input type="hidden" name="qty" value="{{ qty }}">
                                 <td colspan="4"><input type="submit" value="예약" style="height: 50px; width: 100%;"></td>
                              </tr>
                           
                           </tbody>
                        </table>
                        {% comment %} <div class="row mb-8 lg-12" style="padding-top: 50px;">
                           <table border="2" style="width: 91%;height: 100%;">
                              <tr >
                                 <th style="color: black;">번호</th>
                                 <th style="color: black; font-size: 27px;" >출발지</th>
                                 <th style="font-size: 27px;">도착지</th>
                                 <th style="color: black;">예약하기</th>

                              </tr>
                              {% for row3 in schedule %}
                              <tr>
                                 <td style="color: black;"><input type="radio" name="selected_schedule" value="{{ row3.sch_no }}"></td>
                                 
                                 <td style="color: black;"><p2 style="font-size: 35px;font-weight: 700;">1</td></p2>
                                 <td style="color: black;"><p2 style="font-size: 35px;font-weight: 700;">{{ row3.sch_marina }}</p2>
                                    <br><p style="font-size: 18px;">{{ row3.sch_stime }}</p></td>
                                 <td style="color: black;"><p2 style="font-size: 35px;font-weight: 700;">{{ row3.sch_arrival }}</p2>
                                    <br><p style="font-size: 18px;">{{ row3.sch_stime }}</p></td>
                                    <input type="hidden" name="qty" value="{{ qty }}" style="color: black;">
                                 <td><input type="submit" value="예약" style="color: black;height: 100%;width: 100%;"   ></td>
                              </tr>
                              {% endfor %}
                           </table>
                        </div> {% endcomment %}
                     </form>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
   
   <script>
      document.getElementById('scheduleForm').addEventListener('submit', function(e) {
         const selectedSchedule = document.querySelector('[name="selected_schedule"]:checked');
   
         // 스케줄 체크 안되어있을때
         if (!selectedSchedule) {
            alert('스케줄을 선택하여 주세요.');
            e.preventDefault();
            return;
         }
   
         // 선택한 라디오 버튼의 sch_no 값을 가져옵니다.
         const selectedSchNo = selectedSchedule.value;
   
      });
   </script>
   <script>
      $.scrollIt({
   
         easing: 'swing',      // the easing function for animation
         scrollTime: 900,       // how long (in ms) the animation takes
         activeClass: 'active', // class given to the active nav element
         onPageChange: null,    // function(pageIndex) that is called when page is changed
         topOffset: -63
         });
      });
   </script>
   <script>
      function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
     </script>
   </div>
   <div id="overlayer"></div>
   <div class="loader">
      <div class="spinner-border" role="status">
         <span class="sr-only">Loading...</span>
      </div>
   </div>
   <script>
      {% comment %} function updateSearchResults(schedule) {
         alert("===========");
         const searchResultsDiv = document.getElementById('searchResults');
         const table = document.createElement('table');
         table.border = '1';
   
         const thead = document.createElement('thead');
         const headerRow = document.createElement('tr');
         headerRow.innerHTML = `
            <th>선택</th>
            <th>출발지</th>
            <th>도착지</th>
            <th>출발시간</th>
            <th>도착시간</th>
         `;
         thead.appendChild(headerRow);
         table.appendChild(thead);
   
         const tbody = document.createElement('tbody');
         schedule.forEach(row => {
            const rowElement = document.createElement('tr');
            rowElement.innerHTML = `
               <td><input type="radio" name="selected_schedule" value="${row.sch_no}"></td>
               <td>${row.sch_marina}</td>
               <td>${row.sch_arrival}</td>
               <td>${row.sch_stime}</td>
               <td>${row.sch_etime}</td>
            `;
            tbody.appendChild(rowElement);
         });
         table.appendChild(tbody);
   
         // 이전 검색 결과를 지우고 새로운 결과를 추가
         searchResultsDiv.innerHTML = '';
         searchResultsDiv.appendChild(table);
      } {% endcomment %}
   
      function changeP_nm() {
         const startSelect = document.getElementById('start');
         const destinationSelect = document.getElementById('end');
         const selectedValue = startSelect.value;
         const selectedQty = document.getElementById('qty').value;
   
         // 두 번째 select 박스 초기화
         destinationSelect.innerHTML = '<option value="">도착지를 선택하세요</option>';
   
         for (let option of startSelect.options) {
            if (option.value !== "" && option.value !== selectedValue) {
               const newOption = document.createElement('option');
               newOption.value = option.value;
               newOption.innerText = option.innerText;
               destinationSelect.appendChild(newOption);
            }
         }
      }
   
      function validateForm() {
         const startSelect = document.getElementById('start');
         const destinationSelect = document.getElementById('end');
         const qtySelect = document.getElementById('qty');
         if (!startSelect.value || !destinationSelect.value || !qtySelect.value) {
            alert("모든 항목을 선택하여 주세요!");
            return false;
         }
         // return true;
         fm = document.getElementById('fm');
         fm.action = "/mg/test2/";
         fm.submit();

         window.location.href = "/mg/test2/#scheduleForm";

      }
   
      // 페이지가 로드되면 changeP_nm() 함수를 실행하여 도착지 셀렉트 박스를 초기화합니다.
      {% comment %} window.onload = function () {
         changeP_nm();
      }; {% endcomment %}
   
      // 폼 제출 시 검색 결과 업데이트
      {% comment %} const form = document.getElementById('fm');
      form.addEventListener('submit', function (event) {
         event.preventDefault(); // 폼 제출 방지
   
         const formData = new FormData(form);
         fetch('/mg/test/', {
            method: 'POST',
            body: formData,
         })
         .then(response => response.json())
         .then(data => {
            if (data.schedule) {
               updateSearchResults(data.schedule);
            }
         })
         .catch(error => {
            console.error('Error:', error);
         });
      }); {% endcomment %}


   </script>

   <script src="{% static 'mgapp/js/jquery-3.4.1.min.js'%}"></script>
   <script src="{% static 'mgapp/js/popper.min.js'%}"></script>
   <script src="{% static 'mgapp/js/bootstrap.min.js'%}"></script>
   <script src="{% static 'mgapp/js/owl.carousel.min.js'%}"></script>
   <script src="{% static 'mgapp/js/jquery.animateNumber.min.js'%}"></script>
   <script src="{% static 'mgapp/js/jquery.waypoints.min.js'%}"></script>
   <script src="{% static 'mgapp/js/jquery.fancybox.min.js'%}"></script>
   <script src="{% static 'mgapp/js/aos.js'%}"></script>
   <script src="{% static 'mgapp/js/moment.min.js'%}"></script>
   <script src="{% static 'mgapp/js/daterangepicker.js'%}"></script>

   <script src="{% static 'mgapp/js/typed.js'%}"></script>
   <script>
      $(function() {
         var slides = $('.slides'),
         images = slides.find('img');

         images.each(function(i) {
            $(this).attr('data-id', i + 1);
         })

         var typed = new Typed('.typed-words', {
            strings: ["기장 ","영도 ","자갈치 ", "송도",'해운대'],
            typeSpeed: 80,
            backSpeed: 80,
            backDelay: 4000,
            startDelay: 1000,
            loop: true,
            showCursor: true,
            preStringTyped: (arrayPos, self) => {
               arrayPos++;
               console.log(arrayPos);
               $('.slides img').removeClass('active');
               $('.slides img[data-id="'+arrayPos+'"]').addClass('active');
            }

         });
      })
   </script>
   <script>
      document.getElementById('openPopup').addEventListener('click', function () {
        document.getElementById('popupContainer').style.display = 'block';
     });
     
     document.getElementById('closePopup').addEventListener('click', function () {
        document.getElementById('popupContainer').style.display = 'none';
     });
   </script>
   
   <script src="{% static 'mgapp/js/custom.js'%}"></script>

</body>

</html>