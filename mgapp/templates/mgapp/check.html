{% load static %}
<!-- /*
* Template Name: Tour
* Template Author: Untree.co
* Tempalte URI: https://untree.co/
* License: https://creativecommons.org/licenses/by/3.0/
*/ -->
<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="author" content="Untree.co">
	<link rel="shortcut icon" href="favicon.png">

	<meta name="description" content="" />
	<meta name="keywords" content="bootstrap, bootstrap4" />

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Source+Serif+Pro:wght@400;700&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="{% static 'mgapp/css/bootstrap.min.css'%}">
	<link rel="stylesheet" href="{% static 'mgapp/css/owl.carousel.min.css'%}">
	<link rel="stylesheet" href="{% static 'mgapp/css/owl.theme.default.min.css'%}">
	<link rel="stylesheet" href="{% static 'mgapp/css/jquery.fancybox.min.css'%}">
	<link rel="stylesheet" href="{% static 'mgapp/fonts/icomoon/style.css'%}">
	<link rel="stylesheet" href="{% static 'mgapp/fonts/flaticon/font/flaticon.css'%}">
	<link rel="stylesheet" href="{% static 'mgapp/css/daterangepicker.css'%}">
	<link rel="stylesheet" href="{% static 'mgapp/css/aos.css'%}">
	<link rel="stylesheet" href="{% static 'mgapp/css/style.css'%}">
	<link rel="stylesheet" type="text/css" href="https://etk.srail.kr/css/common.css" />
	<link rel="stylesheet" type="text/css" href="https://etk.srail.kr/css/jquery-ui.css" />
	<link rel="stylesheet" type="text/css" href="https://etk.srail.kr/css/swiper-bundle.min.css" />

	<link rel="stylesheet" type="text/css" href="https://etk.srail.kr/css/ticket.css" />

	<title>해상택시 예약 서비스</title>
</head>

<body>


	<div class="site-mobile-menu site-navbar-target">
		<div class="site-mobile-menu-header">
			<div class="site-mobile-menu-close">
				<span class="icofont-close js-menu-toggle"></span>
			</div>
		</div>
		<div class="site-mobile-menu-body"></div>
	</div>

	<nav class="site-nav">

			<div class="site-navigation">
				<a href="/mg/home/" class="logo m-0">bigwave</a> 
				{% comment %} <span class="text-primary">bigwave</span> {% endcomment %}

				<ul class="js-clone-nav d-none d-lg-inline-block text-left site-menu float-right">
					<li class="active"><a href="/mg/test/">선착장예약</a></li>
					<li class="has-children">
						<a href="#">부가 서비스</a>
						<ul class="dropdown">
							<li class="has-children">
								<a href="#">선착장</a>
								<ul class="dropdown">
									<li><a href="#">다대선착장</a></li>
									<li><a href="#">동삼선착장</a></li>
									<li><a href="#">미포선착장</a></li>
									<li><a href="#">자갈치선착장</a></li>
								</ul>
							</li>
						</ul>
					</li>
					{% if request.session.ses_mem_id == None %}
					<li><a href="/login2/">로그인</a></li>
					<li><a href="/signup2/">회원가입</a></li>
					{% else %}
					<li><a href="/mg/booking/">예약확인</a></li>
					<li><a href="/mypage/">회원정보</a></li>
					<li><a href="/mg/logout/">로그아웃</a></li>
					{% endif %}
				</ul>

				<a href="#" class="burger ml-auto float-right site-menu-toggle js-menu-toggle d-inline-block d-lg-none light" data-toggle="collapse" data-target="#main-navbar">
					<span></span>
				</a>

			</div>
	</nav>


	<div class="hero" style="background-color: #f9f9f9;">		
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-10">
					<div class="intro-wrap">
						<div class="sub_tit_area">
							<h2>결제하기</h2>
						</div><!-- //sub_tit_area -->
						<!-- 폼의 action을 save_reservation 뷰로 설정 -->
						<form action="{% url 'save_reservation' %}" method="post">
							<div class="row">
								<div class="col-12">
									{% csrf_token %}
									<fieldset>
										<legend><h3>[예약확인]</h3></legend>
										* 예약 일시 : <span id="reservationTime"></span></br>
										* 탑승 장소 : {{ selected_schedule.sch_marina }}</span></br>
										* 도착 장소 : {{ selected_schedule.sch_arrival }}</span></br>
										* 승차 시간 : {{ selected_schedule.sch_stime }}</span></br>
										* 하차 시간 : {{ selected_schedule.sch_etime }}</span></br>
										* 예약 인원 : <span id="qty"></span>명</br>
										* 결제 금액 : <span id="totalAmount"></span>원
										<!-- 숨겨진 입력 필드로 예약 정보를 서버로 전송 -->
										<input type="hidden" name="book_qty" id="input_qty">
										<input type="hidden" name="book_schedule" value="{{ selected_schedule.id }}">
										<input type="hidden" name="selected_schedule" id="input_selected_schedule">
									</fieldset>
								</div>
							</div>
							<div class="row">
								<fieldset>
									<legend><h3 style="color: red;">[주의사항]</h3></legend>
									<b>본 약관을 확인하지 않고 예약을 진행하여 발생한 모든 불이익에 대해 책임지지 않습니다.</br>
									예약하시는 고객님은 본 필독사항과 환불규정에 대하여 동의한 것으로 간주합니다.</b></br></br>
									> 승선시 반드시 신분증 지참해 주세요. 미성년자 증빙서류(등본 등) 지참하셔야 합니다. (*미지참시 승선 불가)</br>
									> 승선마감시간 까지 탑승하지 못 할 경우 탑승이 거부될 수 있습니다.</br>
									> 주의사항 미이행 및 본인부주의로 사고 발생시 책임을 지지 않습니다.</br>
									> 음식물 반입이 금지되어 있습니다.</br>
									> 기상상태, 천재지변, 선박의 이상상태 등의 예기치 못한 사항으로 운행이 불가할 경우 출항시간이 지연 또는 취소될 수 있으며 문자메세지를 통해 공지합니다. 해당 사항의 경우 전액환불됩니다.</br>
									> 비상상황발생 및 승무원의 지시가 있을 경우 구명조끼를 착용하여 주세요.</br>
								</fieldset>
							</div>
							<button onclick="goBack()"><b>취소</b></button>
							<button type="submit"><b>결제</b></button>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="container container-e">
			<!-- <a href="" class="blind" id="container">본문 시작지점</a> -->	
			<div class="sub_wrap">
					<!-- //sub_tit_area -->
					
			
			
			
			
				<div class="sub_tit_area">
					<h2>결제하기</h2>
				</div><!-- //sub_tit_area -->
			
					<!-- //tab_area -->
				
				<div class="gap20"></div>
			
			
			
					<div class="sub_con_area">
						<div class="box2">
							<div class="li_type1">
								<div class="row">
									<fieldset>
										<legend><h3 style="color: red;">[주의사항]</h3></legend>
										<b>본 약관을 확인하지 않고 예약을 진행하여 발생한 모든 불이익에 대해 책임지지 않습니다.</br>
										예약하시는 고객님은 본 필독사항과 환불규정에 대하여 동의한 것으로 간주합니다.</b></br></br>
										> 승선시 반드시 신분증 지참해 주세요. 미성년자 증빙서류(등본 등) 지참하셔야 합니다. (*미지참시 승선 불가)</br>
										> 승선마감시간 까지 탑승하지 못 할 경우 탑승이 거부될 수 있습니다.</br>
										> 주의사항 미이행 및 본인부주의로 사고 발생시 책임을 지지 않습니다.</br>
										> 음식물 반입이 금지되어 있습니다.</br>
										> 기상상태, 천재지변, 선박의 이상상태 등의 예기치 못한 사항으로 운행이 불가할 경우 출항시간이 지연 또는 취소될 수 있으며 문자메세지를 통해 공지합니다. 해당 사항의 경우 전액환불됩니다.</br>
										> 비상상황발생 및 승무원의 지시가 있을 경우 구명조끼를 착용하여 주세요.</br>
									</fieldset>
								</div>
							</div>
						</div> 
						
							<div class="gap30"></div>
								<div class="box2">
									<form action="{% url 'save_reservation' %}" method="post">
										<div class="row">
											<div class="col-12">
												{% csrf_token %}
												<fieldset>
													<legend><h3>[예약확인]</h3></legend>
													* 예약 일시 : <span id="reservationTime"></span></br>
													* 탑승 장소 : {{ selected_schedule.sch_marina }}</span></br>
													* 도착 장소 : {{ selected_schedule.sch_arrival }}</span></br>
													* 승차 시간 : {{ selected_schedule.sch_stime }}</span></br>
													* 하차 시간 : {{ selected_schedule.sch_etime }}</span></br>
													* 예약 인원 : <span id="qty"></span>명</br>
													* 결제 금액 : <span id="totalAmount"></span>원
													<!-- 숨겨진 입력 필드로 예약 정보를 서버로 전송 -->
													<input type="hidden" name="book_qty" id="input_qty">
													<input type="hidden" name="book_schedule" value="{{ selected_schedule.id }}">
													<input type="hidden" name="selected_schedule" id="input_selected_schedule">
												</fieldset>
											</div>
										</div>
										<div class="row">
											<fieldset>
												<legend><h3 style="color: red;">[주의사항]</h3></legend>
												<b>본 약관을 확인하지 않고 예약을 진행하여 발생한 모든 불이익에 대해 책임지지 않습니다.</br>
												예약하시는 고객님은 본 필독사항과 환불규정에 대하여 동의한 것으로 간주합니다.</b></br></br>
												> 승선시 반드시 신분증 지참해 주세요. 미성년자 증빙서류(등본 등) 지참하셔야 합니다. (*미지참시 승선 불가)</br>
												> 승선마감시간 까지 탑승하지 못 할 경우 탑승이 거부될 수 있습니다.</br>
												> 주의사항 미이행 및 본인부주의로 사고 발생시 책임을 지지 않습니다.</br>
												> 음식물 반입이 금지되어 있습니다.</br>
												> 기상상태, 천재지변, 선박의 이상상태 등의 예기치 못한 사항으로 운행이 불가할 경우 출항시간이 지연 또는 취소될 수 있으며 문자메세지를 통해 공지합니다. 해당 사항의 경우 전액환불됩니다.</br>
												> 비상상황발생 및 승무원의 지시가 있을 경우 구명조끼를 착용하여 주세요.</br>
											</fieldset>
										</div>
										<button onclick="goBack()"><b>취소</b></button>
										<button type="submit"><b>결제</b></button>
									</form>
								<div class="gap50"></div>
								<div class="gap50"></div>
								<div class="tal_c">
									<input type="submit"  class="btn_large btn_blue_dark val_m" value="확인" />
							</div>		
					</div><!-- //sub_con_area -->
			
		</div>
	</div>
	<div class="untree_co-section">
		<div class="container">
			<div class="row mb-5 justify-content-center">
				<div class="col-lg-6 text-center">
					<h2 class="section-title text-center mb-3">홈페이지 운영방식</h2>
					<p>해상택시 운영 서비스를 만들게된 기반</p>
				</div>
			</div>
			<div class="row align-items-stretch">
				<div class="col-lg-4 order-lg-1">
					<div class="h-100"><div class="frame h-100"><div class="feature-img-bg h-100" style="background-image: url('images/hero-slider-1.jpg');"></div></div></div>
				</div>


			</div>
		</div>
	</div>


				{% comment %} <div class="col-6 col-sm-6 col-md-6 col-lg-3 mb-4 mb-lg-0">
					<div class="media-1">
						<a href="#" class="d-block mb-3"><img src="{% static 'mgapp/images/hero-slider-3.jpg'%}" alt="Image" class="img-fluid"></a>
						<span class="d-flex align-items-center loc mb-2">
							<span class="icon-room mr-3"></span>
							<span>Malaysia</span>
						</span>
						<div class="d-flex align-items-center">
							<div>
								<h3><a href="#">Perhentian Islands</a></h3>
								<div class="price ml-auto">
									<span>$750.00</span>
								</div>
							</div>
							
						</div>
						
					</div>
				</div>
				<div class="col-6 col-sm-6 col-md-6 col-lg-3 mb-4 mb-lg-0">
					<div class="media-1">
						<a href="#" class="d-block mb-3"><img src="{% static 'mgapp/images/hero-slider-4.jpg'%}" alt="Image" class="img-fluid"></a>

						<span class="d-flex align-items-center loc mb-2">
							<span class="icon-room mr-3"></span>
							<span>Switzerland</span>
						</span>

						<div class="d-flex align-items-center">
							<div>
								<h3><a href="#">Lake Thun</a></h3>
								<div class="price ml-auto">
									<span>$520.00</span>
								</div>
							</div>
							
						</div>
						
					</div>
				</div>
			</div>
		</div>
	</div>  {% endcomment %}

	{% comment %} <div class="untree_co-section">
		<div class="container">
			<div class="row justify-content-between align-items-center">
				
				<div class="col-lg-6">
					<figure class="img-play-video">
						<a id="play-video" class="video-play-button" href="https://www.youtube.com/watch?v=mwtbEGNABWU" data-fancybox>
							<span></span>
						</a>
						<img src="{% static 'mgapp/images/hero-slider-2.jpg'%}" alt="Image" class="img-fluid rounded-20">
					</figure>
				</div>

				<div class="col-lg-5">
					<h2 class="section-title text-left mb-4">Take a look at Tour Video</h2>
					<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean.</p>

					<p class="mb-4">A small river named Duden flows by their place and supplies it with the necessary regelialia. It is a paradisematic country, in which roasted parts of sentences fly into your mouth.</p>

					<ul class="list-unstyled two-col clearfix">
						<li>Outdoor recreation activities</li>
						<li>Airlines</li>
						<li>Car Rentals</li>
						<li>Cruise Lines</li>
						<li>Hotels</li>
						<li>Railways</li>
						<li>Travel Insurance</li>
						<li>Package Tours</li>
						<li>Insurance</li>
						<li>Guide Books</li>
					</ul>

					<p><a href="#" class="btn btn-primary">Get Started</a></p>

					
				</div>
			</div>
		</div>
	</div>

	
	
	<div class="py-5 cta-section">
		<div class="container">
			<div class="row text-center">
				<div class="col-md-12">
					<h2 class="mb-2 text-white">Lets you Explore the Best. Contact Us Now</h2>
					<p class="mb-4 lead text-white text-white-opacity">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Excepturi, fugit?</p>
					<p class="mb-0"><a href="mgapp/booking.html" class="btn btn-outline-white text-white btn-md font-weight-bold">Get in touch</a></p>
				</div>
			</div>
		</div>
	</div>

	<div class="site-footer">
		<div class="inner first">
			<div class="container">
				<div class="row">
					<div class="col-md-6 col-lg-4">
						<div class="widget">
							<h3 class="heading">About Tour</h3>
							<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts.</p>
						</div>
						<div class="widget">
							<ul class="list-unstyled social">
								<li><a href="#"><span class="icon-twitter"></span></a></li>
								<li><a href="#"><span class="icon-instagram"></span></a></li>
								<li><a href="#"><span class="icon-facebook"></span></a></li>
								<li><a href="#"><span class="icon-linkedin"></span></a></li>
								<li><a href="#"><span class="icon-dribbble"></span></a></li>
								<li><a href="#"><span class="icon-pinterest"></span></a></li>
								<li><a href="#"><span class="icon-apple"></span></a></li>
								<li><a href="#"><span class="icon-google"></span></a></li>
							</ul>
						</div>
					</div>
					<div class="col-md-6 col-lg-2 pl-lg-5">
						<div class="widget">
							<h3 class="heading">Pages</h3>
							<ul class="links list-unstyled">
								<li><a href="#">Blog</a></li>
								<li><a href="#">About</a></li>
								<li><a href="#">Contact</a></li>
							</ul>
						</div>
					</div>
					<div class="col-md-6 col-lg-2">
						<div class="widget">
							<h3 class="heading">Resources</h3>
							<ul class="links list-unstyled">
								<li><a href="#">Blog</a></li>
								<li><a href="#">About</a></li>
								<li><a href="#">Contact</a></li>
							</ul>
						</div>
					</div>
					<div class="col-md-6 col-lg-4">
						<div class="widget">
							<h3 class="heading">Contact</h3>
							<ul class="list-unstyled quick-info links">
								<li class="email"><a href="#">mail@example.com</a></li>
								<li class="phone"><a href="#">+1 222 212 3819</a></li>
								<li class="address"><a href="#">43 Raymouth Rd. Baltemoer, London 3910</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div> {% endcomment %}



		{% comment %} <div class="inner dark">
			<div class="container">
				<div class="row text-center">
					<div class="col-md-8 mb-3 mb-md-0 mx-auto">
						<p>Copyright &copy;<script>document.write(new Date().getFullYear());</script>. All Rights Reserved. &mdash; Designed with love by <a href="https://untree.co" class="link-highlight">Untree.co</a> <!-- License information: https://untree.co/license/ -->Distributed By <a href="https://themewagon.com" target="_blank" >ThemeWagon</a>
						</p>
					</div>
					
				</div>
			</div>
		</div> {% endcomment %}
	</div>

	<div id="overlayer"></div>
	<div class="loader">
		<div class="spinner-border" role="status">
			<span class="sr-only">Loading...</span>
		</div>
	</div>
	<script>
		//취소하기
		function goBack(){
			history.go(-1);
		}
		const now = new Date();
		const formattedTime = `${now.getFullYear()}년 ${String(now.getMonth() + 1).padStart(2, '0')}월 ${String(now.getDate()).padStart(2, '0')}일 ${String(now.getHours()).padStart(2, '0')}시 ${String(now.getMinutes()).padStart(2, '0')}분`;

		document.getElementById('reservationTime').innerText = formattedTime;

		// URL의 쿼리 매개변수를 추출하고 표시하는 JavaScript 코드
		const urlParams = new URLSearchParams(window.location.search);
		const selectedSchNo = urlParams.get('selected_schedule');
		const qtyValue = urlParams.get('qty');

		document.getElementById('input_selected_schedule').value = selectedSchNo;
		document.getElementById('qty').innerText = qtyValue;
		document.getElementById('input_qty').value = qtyValue;

		const paymentAmount = qtyValue * 20000;
		document.getElementById('totalAmount').innerText = paymentAmount.toLocaleString();
		document.getElementById('input_totalAmount').value = paymentAmount;
	</script>

	<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js" ></script>
		
	<script src="{% static 'mgapp/js/jquery-3.4.1.min.js'%}"></script>
	<script src="{% static 'mgapp/js/popper.min.js'%}"></script>
	<script src="{% static 'mgapp/js/bootstrap.min.js'%}"></script>
	<script src="{% static 'mgapp/js/owl.carousel.min.js'%}"></script>
	<script src="{% static 'mgapp/js/jquery.animateNumber.min.js'%}"></script>
	<script src="{% static 'mgapp/js/jquery.waypoints.min.js'%}"></script>
	<script src="{% static 'mgapp/js/jquery.fancybox.min.js'%}"></script>
	<script src="{% static 'mgapp/js/aos.js'%}"></script>
	<script src="{% static 'mgapp/js/moment.min.js'%}"></script>
	<script src="{% static 'mgapp/js/daterangepicker.js'%}"></script>

	<script src="{% static 'mgapp/js/typed.js'%}"></script>
	<script>
		$(function() {
			var slides = $('.slides'),
			images = slides.find('img');

			images.each(function(i) {
				$(this).attr('data-id', i + 1);
			})

			var typed = new Typed('.typed-words', {
				strings: ["다대포 ","영도 ","자갈치 ", "송도",],
				typeSpeed: 80,
				backSpeed: 80,
				backDelay: 4000,
				startDelay: 1000,
				loop: true,
				showCursor: true,
				preStringTyped: (arrayPos, self) => {
					arrayPos++;
					console.log(arrayPos);
					$('.slides img').removeClass('active');
					$('.slides img[data-id="'+arrayPos+'"]').addClass('active');
				}

			});
		})
	</script>

	<script src="{% static 'mgapp/js/custom.js'%}"></script>
	<script type="text/javascript" src="/cms/js/makePCookie.js"></script>
</body>

</html>
